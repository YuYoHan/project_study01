<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>success</title>
</head>
<body>
<form id="memberForm">
  <label for="nickName">별명:</label>
  <input type="text" id="nickName" name="nickName" required>

  <label for="userAddr">주소:</label>
  <input type="text" id="userAddr" name="userAddr" required>

  <label for="userAddrDetail">상세 주소:</label>
  <input type="text" id="userAddrDetail" name="userAddrDetail" required>

  <label for="userAddrEtc">기타 주소:</label>
  <input type="text" id="userAddrEtc" name="userAddrEtc" required>

  <button type="button" onclick="submitForm()">제출</button>
</form>
<script>
  function submitForm() {
    // 입력된 값을 가져옵니다.
    const nickName = document.getElementById('nickName').value;
    const userAddr = document.getElementById('userAddr').value;
    const userAddrDetail = document.getElementById('userAddrDetail').value;
    const userAddrEtc = document.getElementById('userAddrEtc').value;

    // 주소 관련 정보를 JSON으로 묶습니다.
    const addressDTO = {
      userAddr: userAddr,
      userAddrDetail: userAddrDetail,
      userAddrEtc: userAddrEtc,
    };

    // 멤버 관련 정보를 JSON으로 묶습니다.
    const memberDTO = {
      nickName: nickName,
      addressDTO: addressDTO,
    };

    // AJAX를 사용하여 데이터를 JSON 형식으로 서버에 보냅니다.
    fetch('http://localhost:8080/success-oauth-login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(memberDTO),
    })
            .then((response) => response.json())
            .then((data) => {
              // 서버로부터의 응답을 처리합니다 (필요하면).
              console.log(data);
            })
            .catch((error) => {
              console.error('오류:', error);
            });
  }
</script>
</body>
</html>